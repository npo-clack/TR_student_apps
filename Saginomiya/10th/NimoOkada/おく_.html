<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ‹ã¿ãã˜ å®Œå…¨é€²åŒ–ç‰ˆï¼ˆYouTubeï¼‹Spotifyï¼‰</title>
<style>
body { font-family:"Noto Serif JP","Yu Mincho","serif"; background:#fff0f5; margin:0; padding:0; display:flex; justify-content:center; }
.wrap { max-width:480px; width:100%; padding:12px; }
h1 { text-align:center; color:#4a3c3d; }
.card { background:#fffdfd; border-radius:12px; padding:18px; margin-bottom:14px; box-shadow:0 4px 12px rgba(0,0,0,0.08); }
.input, .select { flex:1; padding:10px; border-radius:10px; border:1px solid #ccc; margin-bottom:10px; }
.btn { width:100%; padding:12px; border-radius:14px; background:#ffeef0; border:none; cursor:pointer; font-weight:600; }
.result { margin-top:12px; display:none; padding:12px; border-radius:12px; background:#fff8f9; }
.history-item { padding:8px; background:#fff5f7; border-radius:10px; margin-bottom:6px; font-size:13px; }
.stream-links a { margin-right:6px; font-size:13px; color:#e75480; text-decoration:none; }
.stream-links a:hover { text-decoration:underline; }
</style>
</head>
<body>
<div class="wrap">
  <h1>æ‹ã¿ãã˜ å®Œå…¨é€²åŒ–ç‰ˆï¼ˆYouTubeï¼‹Spotifyï¼‰</h1>
  <div class="card">
    <input id="age" class="input" type="number" placeholder="å¹´é½¢ï¼ˆä»»æ„ï¼‰">
    <select id="gender" class="select">
      <option value="female">å¥³æ€§</option>
      <option value="male">ç”·æ€§</option>
      <option value="other">ãã®ä»–</option>
    </select>
    <select id="loveStatus" class="select">
      <option value="love">ç‰‡æ€ã„</option>
      <option value="mutual">ä¸¡æƒ³ã„</option>
      <option value="none">æ‹ã—ã¦ãªã„</option>
    </select>
    <button id="drawBtn" class="btn">æ‹ã¿ãã˜ã‚’å¼•ã</button>
    <div id="result" class="result">
      <div id="fortune"></div>
      <div id="poem" style="font-style:italic; margin-top:8px;"></div>
      <div id="color" style="margin-top:6px;"></div>
      <div id="songArea" class="stream-links" style="margin-top:6px;"></div>
    </div>
  </div>

  <div class="card">
    <strong>å±¥æ­´</strong>
    <div id="history"></div>
    <button id="clearBtn" class="btn" style="margin-top:6px;">å±¥æ­´ã‚’æ¶ˆã™</button>
  </div>
</div>

<script>
// ---------------- è¨­å®š ----------------
const fortunes=["å¤§å‡¶","å‡¶","å°å‰","æœ«å‰","å‰","ä¸­å‰","å¤§å‰"];
const colors={
  "å¤§å‡¶":["ãƒãƒ£ã‚³ãƒ¼ãƒ«","ãƒ€ãƒ¼ã‚¯ãƒã‚¤ãƒ“ãƒ¼"],
  "å‡¶":["ãƒãƒ£ã‚³ãƒ¼ãƒ«","ãƒ€ãƒ¼ã‚¯ã‚°ãƒ¬ãƒ¼"],
  "å°å‰":["ã‚¹ãƒ¢ãƒ¼ã‚­ãƒ¼ãƒ”ãƒ³ã‚¯","ãƒ©ãƒ™ãƒ³ãƒ€ãƒ¼ã‚°ãƒ¬ãƒ¼"],
  "æœ«å‰":["ã‚»ãƒ¼ã‚¸","ã‚µãƒ³ãƒ‰ãƒ™ãƒ¼ã‚¸ãƒ¥"],
  "å‰":["ãƒ™ãƒ¼ã‚¸ãƒ¥","ãƒœãƒ«ãƒ‰ãƒ¼"],
  "ä¸­å‰":["ãƒ–ãƒ«ãƒ¼ã‚°ãƒ¬ãƒ¼","ãƒœãƒ«ãƒ‰ãƒ¼"],
  "å¤§å‰":["ã‚´ãƒ¼ãƒ«ãƒ‰","ã‚¯ãƒªãƒ¼ãƒ "]
};

// ---------------- æ¡ä»¶åˆ¥ãƒã‚¨ãƒ  ----------------
const poemSets = {
  female: {
    love: [
      "ç´ ç›´ãªæ°—æŒã¡ã‚’è¨€è‘‰ã«ã—ã¦ã¿ã¦ã€‚æ‹ãŒå‹•ãå‡ºã™ã‹ã‚‚ã€‚",
      "å½¼ã®å‰ã§ç„¡ç†ã«å¼·ãŒã‚‰ãªã„ã§ã€‚å„ªã—ã•ãŒä¼ã‚ã‚‹æ—¥ã€‚",
      "å°ã•ãªLINEã§ã‚‚å‹‡æ°—ã‚’å‡ºã—ã¦é€ã£ã¦ã¿ã¦ã€‚"
    ],
    mutual: [
      "ãŠäº’ã„ã®ç¬‘é¡”ãŒæœªæ¥ã‚’ä½œã‚‹æ—¥ã€‚",
      "ä¸€ç·’ã«éã”ã™æ™‚é–“ã‚’å¤§åˆ‡ã«ã—ã¦ã€‚",
      "æƒ³ã„ã‚’ä¼ãˆåˆã†ã“ã¨ã§çµ†ãŒæ·±ã¾ã‚‹ã€‚"
    ],
    none: [
      "ç„¦ã‚‰ãªãã¦å¤§ä¸ˆå¤«ã€‚ä»Šã¯è‡ªåˆ†ç£¨ãã®æ™‚æœŸã€‚",
      "æ‹ã‚ˆã‚Šã‚‚å‹æƒ…ãŒè¼ã1æ—¥ã«ãªã‚Šãã†ã€‚",
      "ä½•æ°—ãªã„å‡ºä¼šã„ãŒã€å¾Œã®é‹å‘½ã«ãªã‚‹ã‹ã‚‚ã€‚"
    ]
  },
  male: {
    love: [
      "ç´ ç›´ãªè¨€è‘‰ãŒä¸€ç•ªåˆºã•ã‚‹æ—¥ã€‚",
      "ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã™ã‚‹ãªã‚‰ä»Šæ—¥ãŒãƒãƒ£ãƒ³ã‚¹ã€‚",
      "å°‘ã—å‹‡æ°—ã‚’å‡ºã›ã°è·é›¢ãŒç¸®ã¾ã‚‹ã€‚"
    ],
    mutual: [
      "ç›¸æ‰‹ã®æ°—æŒã¡ã«å¯„ã‚Šæ·»ãˆã°ã€ã•ã‚‰ã«ä¿¡é ¼ãŒæ·±ã¾ã‚‹ã€‚",
      "ã‚ãªãŸã®å„ªã—ã•ãŒå½¼å¥³ã‚’ç¬‘é¡”ã«ã—ã¾ã™ã€‚",
      "ä¸€ç·’ã«ç¬‘ã†æ™‚é–“ã‚’å¢—ã‚„ã—ã¦ã¿ã¦ã€‚"
    ],
    none: [
      "æ‹ã‚ˆã‚Šã‚‚å¤¢ã‚’è¿½ã†æ™‚æœŸã‹ã‚‚ã€‚",
      "ä»Šã®ã‚ãªãŸã‚’è¦‹ã¦æƒ¹ã‹ã‚Œã‚‹äººãŒç¾ã‚Œã‚‹ã‹ã‚‚ã€‚",
      "ç„¡ç†ã›ãšã€è‡ªç„¶ä½“ãŒä¸€ç•ªã®é­…åŠ›ã€‚"
    ]
  },
  other: {
    love: [
      "å¿ƒã‚’é–‰ã–ã•ãšã€ã¾ã£ã™ããªæƒ³ã„ã‚’ä¿¡ã˜ã¦ã€‚",
      "ã‚ãªãŸã‚‰ã—ã„æ‹ãŒå®Ÿã‚‹äºˆæ„Ÿã€‚",
      "å‹‡æ°—ã‚’å‡ºã—ãŸäººã«ã—ã‹è¦‹ãˆãªã„æ™¯è‰²ãŒã‚ã‚‹ã€‚"
    ],
    mutual: [
      "ç›¸æ‰‹ã®æƒ³ã„ã‚’å¤§åˆ‡ã«ã™ã‚‹ã“ã¨ã§çµ†ãŒå¼·ããªã‚‹ã€‚",
      "ã‚ãªãŸã®å„ªã—ã•ãŒé–¢ä¿‚ã‚’æ¸©ã‚ã‚‹ã€‚",
      "ãŠäº’ã„ã®æ­©å¹…ã‚’åˆã‚ã›ã¦ã€ã‚†ã£ãã‚Šé€²ã‚‚ã†ã€‚"
    ],
    none: [
      "è‡ªåˆ†ã‚’æ„›ã›ã‚‹äººãŒã€ç´ æ•µãªæ‹ã‚’å‘¼ã³å¯„ã›ã‚‹ã€‚",
      "ã¾ã çŸ¥ã‚‰ãªã„â€œæ‹â€ãŒã‚ãªãŸã‚’å¾…ã£ã¦ã„ã‚‹ã€‚",
      "ä»Šæ—¥ã¯è‡ªåˆ†ã‚’ç”˜ã‚„ã‹ã—ã¦OKã€‚"
    ]
  }
};

// ---------------- æ›²ï¼ˆYouTubeï¼‹Spotifyï¼‰ ----------------
const songs = [
  {title:"å¤œã«é§†ã‘ã‚‹", youtube:"https://youtu.be/x8VYWazR5mE", spotify:"https://open.spotify.com/track/2nYJZqjK9kY7vVv8vgJ3lT"},
  {title:"ã‚«ã‚¿ã‚ªãƒ¢ã‚¤", youtube:"https://youtu.be/5t1ZzD6zJ6Y", spotify:"https://open.spotify.com/track/2cYqizR4lgvp4Qu6IQ3qGN"},
  {title:"Pretender", youtube:"https://youtu.be/TQ8WlA2GXbk", spotify:"https://open.spotify.com/track/6fujklziTHa8uoM5OQSfIo"},
  {title:"é¦™æ°´", youtube:"https://youtu.be/1yP9x2P8WvI", spotify:"https://open.spotify.com/track/7fBv7CLKzipRk6EC6TWHOB"},
  {title:"ãƒ‰ãƒ©ã‚¤ãƒ•ãƒ©ãƒ¯ãƒ¼", youtube:"https://youtu.be/9mWJzxh1X0I", spotify:"https://open.spotify.com/track/5M7q1rY3R6zXq7nSx0gR3J"},
  {title:"æ‹", youtube:"https://youtu.be/5Uo7y5nW1lA", spotify:"https://open.spotify.com/track/0OcbNK7kENdWZ7ECvHqbpv"},
 {title:"ãƒãƒªãƒ¼ã‚´ãƒ¼ãƒ«ãƒ‰", youtube:"https://youtu.be/0xSiBpUdW4E", spotify:"https://open.spotify.com/track/2Z8WuEywRWYTKe1NybPQEW"},
 {title:"ç¹”å§«ã¨BABY",youtube:"https://youtu.be/RyviHjvLIao?si=7xLAJYjLiJcNn3JO"},
  {title:"æ‹äººã”ã£ã“",youtube:"https://youtu.be/323j5BRFi7s?si=z2iW5rowRy8ljvHe"},
  {title:"è²´æ–¹ã®æ‹äººã«ãªã‚ŠãŸã„ã®ã§ã™",youtube:"https://youtu.be/CS90aE8_dUQ?si=PVEcO5ayh9nRJF0q"},
  {title:"melt bitter",youtube:"https://youtu.be/mwTmvdIeYnE?si=rVQe7mgzTvi8X2je"},
  {title:"ãƒãƒƒãƒ”ãƒ¼ã‚¨ãƒ³ãƒ‰",youtube:"https://youtu.be/T8y_RsF4TSw?si=WIhoxWfT6TKPwNbu"},
  {title:"me me she",youtube:"https://youtu.be/wvvItrHEfRA?si=9Gy-8dF57bE7ik7l"},
  {title:"25ï½ºç›®ã®æŸ“è‰²ä½“",youtube:"https://youtu.be/XRnX65LDRoU?si=hh1a7Ma1LM84OWLG"},
  {title:"ãƒ–ãƒ«ãƒ¼ãƒ™ãƒªãƒ¼ãƒ»ãƒŠã‚¤ãƒ„",youtube:"https://youtu.be/Euf1-3WRino?si=ZYHXcpfqnlqjGfmS"},
  {title:"10æœˆç„¡å£ãªå›ã‚’å¿˜ã‚Œã‚‹",youtube:"https://youtu.be/zO8yNYEsYTc?si=dCjUtNsGl9MqFgrE"},
  {title:"ä»Šæ›´ã ã£ã¦åƒ•ã¯è¨€ã†ã‹ãª",youtube:"https://youtu.be/U8pJgoOhiDs?si=nbP1c3cN5kGlt_nB"},
  {title:"ãƒŸã‚¹ã‚¿ãƒ¼ãƒ»ãƒ–ãƒ«ãƒ¼ã‚¹ã‚«ã‚¤",youtube:"https://youtu.be/8ooptXF4IDE?si=m5RpCwsjxkl5vFM3"},
  {title:"ãƒªã‚«",youtube:"https://youtu.be/0zmK2-ioEGg?si=YUiRl9zXo0xFD0kN"},
  {title:"æ„›ã‚†ãˆã«",youtube:"https://youtu.be/In7m-BrHaQo?si=p8LknKpoRV7qghse"},
  {title:"é•·ã„é«ª",youtube:"https://youtu.be/1wfN863pJ-Y?si=k6hCA0-Do_0ZDxzu"},
  {title:"å¤¢ã‚’ã¿ã›ã¦",youtube:"https://youtu.be/8kiL6vN_bsM?si=E9JeZiI8bJv03h57"},
  {title:"ä»Šæ—¥ãã‚‰ã„ã•",youtube:"https://youtu.be/1fC8wAwBqXc?si=wZbwg5qCOf0UOs72"},
  {title:"ç´«è‹‘",youtube:"https://youtu.be/3Yq58d2rsRk?si=3o1n3dMereYEsOwx"},
  {title:"çœ ã‚Šå§«",youtube:"https://youtu.be/GvL4bcNfSDg?si=I5bVu25fMPWeH860"},
  {title:"ã‚»ãƒ³ãƒãƒ¡ãƒ³ã‚¿ãƒ«ãƒ»ã‚­ã‚¹ ",youtube:"https://youtu.be/ispTakQnfiI?si=1eYFvTLE4U1oqvDb"},

];

// ---------------- ãƒ­ã‚¸ãƒƒã‚¯ ----------------
let history=[];
let lastPoem="", lastSong="";

function getRandomItem(arr, last){
  let filtered = arr.filter(x => x!==last);
  return filtered[Math.floor(Math.random()*filtered.length)];
}

document.getElementById("drawBtn").addEventListener("click", ()=>{
  const gender = document.getElementById("gender").value;
  const loveStatus = document.getElementById("loveStatus").value;

  const fortune = fortunes[Math.floor(Math.random()*fortunes.length)];
  const poem = getRandomItem(poemSets[gender][loveStatus], lastPoem);
  lastPoem = poem;

  const song = getRandomItem(songs, lastSong);
  lastSong = song;

  document.getElementById("fortune").innerText = "é‹å‹¢: " + fortune;
  document.getElementById("poem").innerText = '"' + poem + '"';
  document.getElementById("color").innerText = "ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼: " + getRandomItem(colors[fortune], "");
  document.getElementById("songArea").innerHTML = `
    ğŸ§ ãŠã™ã™ã‚æ›²: <strong>${song.title}</strong><br>
    <a href="${song.youtube}" target="_blank">YouTubeã§è´ã</a> /
    <a href="${song.spotify}" target="_blank">Spotifyã§è´ã</a>
  `;

  const entry = `é‹å‹¢: ${fortune}, "${poem}", æ›²: ${song.title}`;
  history.unshift(entry);
  if(history.length>10) history.pop();
  document.getElementById("history").innerHTML = history.map(h=>`<div class="history-item">${h}</div>`).join("");

  document.getElementById("result").style.display="block";
});

document.getElementById("clearBtn").addEventListener("click", ()=>{
  history=[];
  document.getElementById("history").innerHTML="";
});
</script>
</body>
</html>
